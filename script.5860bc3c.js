parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"bjZF":[function(require,module,exports) {

},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"UUq2":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"pBGv"}],"YF8F":[function(require,module,exports) {
var process = require("process");
var e=require("process"),n=require("fs"),r=require("path");function t(e){console.log("[dotenv][DEBUG] ".concat(e))}var o="\n",a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,c=/\\n/g,i=/\n|\r|\r\n/;function l(e,n){var r=Boolean(n&&n.debug),l={};return e.toString().split(i).forEach(function(e,n){var i=e.match(a);if(null!=i){var s=i[1],u=i[2]||"",d=u.length-1,p='"'===u[0]&&'"'===u[d];"'"===u[0]&&"'"===u[d]||p?(u=u.substring(1,d),p&&(u=u.replace(c,o))):u=u.trim(),l[s]=u}else r&&t("did not match key and value when parsing line ".concat(n+1,": ").concat(e))}),l}function s(o){var a=r.resolve(e.cwd(),".env"),c="utf8",i=!1;o&&(null!=o.path&&(a=o.path),null!=o.encoding&&(c=o.encoding),null!=o.debug&&(i=!0));try{var s=l(n.readFileSync(a,{encoding:c}),{debug:i});return Object.keys(s).forEach(function(n){Object.prototype.hasOwnProperty.call(e.env,n)?i&&t('"'.concat(n,'" is already defined in `process.env` and will not be overwritten')):e.env[n]=s[n]}),{parsed:s}}catch(u){return{error:u}}}module.exports.config=s,module.exports.parse=l;
},{"fs":"bjZF","path":"UUq2","process":"pBGv"}],"FWlu":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("dotenv").config();var o=function(){function e(n,o,r){t(this,e),this.$root=n,this.$parent=o,this.NAME=r.name,this.URL=r.url,this.TITLE=r.title}return n(e,[{key:"link",value:function(t){var e=this.$parent.proxy.page.replace("/","");this.$parent[e||"list"].destroy(),this.$parent.proxy.page=t;var n=window.location.protocol+"//"+window.location.host,o=t?n+t:n;history.pushState(null,null,o)}},{key:"render",value:function(){this.$parent.$title.textContent=this.TITLE,this.$root.innerHTML="",this.$root.insertAdjacentHTML("beforeend",this.template()),this.initConstructor(),this.init()}},{key:"template",value:function(){throw new Error("Метод template должен быть реализован в классе ".concat(this.NAME))}},{key:"initConstructor",value:function(){console.clear()}},{key:"init",value:function(){throw new Error("Метод init должен быть реализован в классе ".concat(this.NAME))}},{key:"destroy",value:function(){console.clear()}}]),e}();exports.default=o;
},{"dotenv":"YF8F"}],"aRTV":[function(require,module,exports) {
module.exports="/2048.27752ae6.png";
},{}],"ADje":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../static/preview/2048.png"));function t(e){return e&&e.__esModule?e:{default:e}}var r=[{name:"2048",image:e.default,link:"2048"}];exports.default=r;
},{"../../static/preview/2048.png":"aRTV"}],"hZz8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../class/Component")),e=n(require("../data/games"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=l(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=y();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(n){a(i,t.default);var r=f(i);function i(t,e){return o(this,i),r.call(this,t,e,{name:"List",url:"",title:"Games"})}return c(i,[{key:"template",value:function(){return'\n            <div class="container">\n                <div class="list">\n                    <div class="list__title">Список игр</div>\n                \n                    <ul class="list__sked">\n                        '.concat(e.default.map(function(t){return'\n                          <li data-card data-link="/game'.concat(t.link,'" class="list__sked-item">\n                              <img class="list__sked-image" src="').concat(t.image,'" alt="').concat(t.link,'">   \n                              \n                              <div class="list__sked-content">\n                                  <div class="list__sked-title">').concat(t.name,"</div> \n                              </div>\n                          </li>")}).join("\n"),"\n                    </ul>\n                </div>\n            </div>")}},{key:"init",value:function(){document.addEventListener("click",this.click(this))}},{key:"destroy",value:function(){document.removeEventListener("click",this.click(this))}},{key:"click",value:function(t){return function(e){var n=e.target.closest("[data-card]");n&&t.link(n.dataset.link)}}},{key:"link",value:function(t){u(v(i.prototype),"link",this).call(this,t)}}]),i}();exports.default=b;
},{"../class/Component":"FWlu","../data/games":"ADje"}],"boOX":[function(require,module,exports) {
"use strict";function e(){return'\n        <div class="back">\n            <div data-btn="back" class="back__btn">Вернуться назад</div>\n        </div>'}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"YSwj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var a=e(require("../../../helper/backTemplate"));function e(a){return a&&a.__esModule?a:{default:a}}function s(){return'\n        <div class="container">\n            <div class="game2048">\n                '.concat((0,a.default)(),"\n            \n                ").concat(n(),' \n                \n                <ul class="game2048__list">\n                    <li data-btn="new-game" class="game2048__list-btn">Новая Игра</li>\n                </ul>\n                \n                <div data-body class="game2048__body">\n                    <canvas class="game2048__body-canvas"></canvas>\n                    \n                    <div data-game class="game2048__game"></div>\n                    <div class="game2048__body-win"></div>\n                    <div class="game2048__body-lose"></div>\n                </div>\n            </div>\n        </div>')}function n(){return'\n        <div class="game2048__header">\n            <div class="game2048__header-title">2048</div>\n            \n            <ul class="game2048__score">\n                <li class="game2048__score-item">\n                    <div class="game2048__score-title">Счет</div>\n                    <div data-value="score" class="game2048__score-value">0</div>\n                </li>\n                \n                <li class="game2048__score-item">\n                    <div class="game2048__score-title">Лучший</div>\n                    <div data-value="best" class="game2048__score-value">0</div>\n                </li>\n            </ul>\n        </div>'}
},{"../../../helper/backTemplate":"boOX"}],"tSS7":[function(require,module,exports) {
module.exports={2:{tile:"#EEE4DA",dark:!0},4:{tile:"#EDE0C8",dark:!0},8:{tile:"#F2B179"},16:{tile:"#F59563"},32:{tile:"#F67C5F"},64:{tile:"#F65E3B"},128:{tile:"#EDCF72"},256:{tile:"#EDCC61"},512:{tile:"#EDC850"},1024:{tile:"#EDC53F"},2048:{tile:"#EDC22E"}};
},{}],"Ez8S":[function(require,module,exports) {
"use strict";function e(e,t){return e*t.TAIL_WIDTH/2+(e+1)*t.MARGIN/2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"fAD4":[function(require,module,exports) {
"use strict";function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e.style,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Ycqt":[function(require,module,exports) {
"use strict";function r(r,t){switch(r){case"tail":return e(1,10,[])<9?2:4;case"coords":var n=[],a=[];t.field.map(function(r,e){4===r.filter(function(r){return r}).length&&n.push(e)});for(var i=e(0,3,n),o=0;o<4;o++)t.field[o][i]&&a.push(o);return[i,e(0,3,a)]}}function e(r,e,t){var n;for(t=Array.isArray(t)?t:[isNaN(t)?r-1:t];;)if(n=Math.floor(Math.random()*(e-r+1))+r,t.indexOf(n)<0)return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"Dcux":[function(require,module,exports) {
"use strict";function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,c=0,n=0,o=0;return 4==t.length?(c="0x"+t[1]+t[1],n="0x"+t[2]+t[2],o="0x"+t[3]+t[3]):7==t.length&&(c="0x"+t[1]+t[2],n="0x"+t[3]+t[4],o="0x"+t[5]+t[6]),"rgb(".concat(+c+10," ").concat(+n+10," ").concat(+o+10," / ").concat(e,"%)")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"idwE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var t=a(require("./tile.json")),e=a(require("./coords")),r=a(require("../../../helper/css")),n=a(require("../../../helper/random")),o=a(require("../../../helper/ColorConvert"));function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return d(t)||s(t,e)||l(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}}function d(t){if(Array.isArray(t))return t}function f(a,u){var l,c="dark",s="random"===a?(0,n.default)("tail"):u.value,d=i("random"===a?(0,n.default)("coords",this):[u.x,u.y],2),f=d[0],h=d[1];this.field[h][f]=s;var p=document.createElement("div"),m="translate(".concat((0,e.default)(f,this),"px, ").concat((0,e.default)(h,this),"px)");"obj"===a&&(u.value>4&&(c=""),l=s>=256?"0 0 30px 10px ".concat((0,o.default)(t.default[s].tile),", inset 0 0 0 1px rgb(255 255 255 / 19%)"):"none"),p.className="tail"+" ".concat(c),p.textContent=s,p.dataset.value=s,p.dataset.coords="".concat(f,",").concat(h),(0,r.default)(p,{opacity:0,transform:m+" scale(0.3)",width:"".concat(this.TAIL_WIDTH/2,"px"),height:"".concat(this.TAIL_HEIGHT/2,"px"),background:t.default[s].tile,transition:"250ms 0s ease-in-out",boxShadow:l}),this.$game.insertBefore(p,null),this.tailList.push({dom:p,value:s,coords:{x:f,y:h}}),setTimeout(function(){(0,r.default)(p,{opacity:1,transform:m})},20)}
},{"./tile.json":"tSS7","./coords":"Ez8S","../../../helper/css":"fAD4","../../../helper/random":"Ycqt","../../../helper/ColorConvert":"Dcux"}],"bqP4":[function(require,module,exports) {
"use strict";function t(t){return function(c,e,o,r,x){o<2*x&&(x=o/2),r<2*x&&(x=r/2),t.ctx.beginPath(),t.ctx.moveTo(c+x,e),t.ctx.arcTo(c+o,e,c+o,e+r,x),t.ctx.arcTo(c+o,e+r,c,e+r,x),t.ctx.arcTo(c,e+r,c,e,x),t.ctx.arcTo(c,e,c+o,e,x),t.ctx.fillStyle="#CDC1B4",t.ctx.fill(),t.ctx.closePath()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"GpuO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=r(require("./coords")),e=r(require("../../../helper/css"));function r(t){return t&&t.__esModule?t:{default:t}}function s(r,s,a,o){r.dataset.coords=s+","+a,this.tailList[o].coords={x:s,y:a};var i=[(0,t.default)(s,this),(0,t.default)(a,this)],u=i[0],n=i[1];(0,e.default)(r,{transform:"translate(".concat(u,"px, ").concat(n,"px)"),transition:"160ms 0s linear"})}
},{"./coords":"Ez8S","../../../helper/css":"fAD4"}],"swkf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var t=o(require("./coords")),r=o(require("./tile.json")),e=o(require("../../../helper/css")),n=o(require("../../../helper/ColorConvert"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,r){return c(t)||u(t,r)||l(t,r)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,r){if(t){if("string"==typeof t)return s(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,r):void 0}}function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function u(t,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,o=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(e.push(i.value),!r||e.length!==r);n=!0);}catch(s){o=!0,a=s}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return e}}function c(t){if(Array.isArray(t))return t}function d(o,i,l,s){var u=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:180,d=[(0,t.default)(o,this),(0,t.default)(i,this)],m=d[0],p=d[1],y=l>=256?"0 0 30px 10px ".concat((0,n.default)(r.default[l].tile),", inset 0 0 0 1px rgb(255 255 255 / 19%)"):"none";setTimeout(function(){var t=a(f.call(u,o,i),2),n=t[0],s=t[1];n[0].dom.textContent=l,u.tailList[s[0]].value=l,r.default[l].dark?n[0].dom.classList.contains("dark")||n[0].dom.classList.add("dark"):n[0].dom.classList.remove("dark"),(0,e.default)(n[0].dom,{boxShadow:y,transform:"translate(".concat(m,"px, ").concat(p,"px) scale(1.2)"),transition:"140ms 0s linear",background:r.default[l].tile}),n[1].dom.remove(),u.tailList=u.tailList.filter(function(t,r){return r!==s[1]}),console.log(u.tailList),setTimeout(function(){(0,e.default)(n[0].dom,{transform:"translate(".concat(m,"px, ").concat(p,"px)"),transition:".2s 0s ease"})},140)},c)}function f(t,r){var e=[];return[this.tailList.filter(function(n,o){return n.coords.x===t&&n.coords.y===r&&e.push(o),n.coords.x===t&&n.coords.y===r}),e]}
},{"./coords":"Ez8S","./tile.json":"tSS7","../../../helper/css":"fAD4","../../../helper/ColorConvert":"Dcux"}],"TIYC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var t=r(require("./setTail")),e=r(require("./mergeTail")),i=r(require("./createTail"));function r(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return f(t)||n(t,e)||s(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],r=!0,l=!1,a=void 0;try{for(var n,f=t[Symbol.iterator]();!(r=(n=f.next()).done)&&(i.push(n.value),!e||i.length!==e);r=!0);}catch(o){l=!0,a=o}finally{try{r||null==f.return||f.return()}finally{if(l)throw a}}return i}}function f(t){if(Array.isArray(t))return t}function o(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=s(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,l=function(){};return{s:l,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n=!0,f=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return n=t.done,t},e:function(t){f=!0,a=t},f:function(){try{n||null==i.return||i.return()}finally{if(f)throw a}}}}function s(t,e){if(t){if("string"==typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function u(r){var a=this;if(this.allowed){this.allowed=!1,setTimeout(function(){return a.allowed=!0},260);var n=!0,f=[];switch(this.field.map(function(t,e){t.map(function(t,i){t&&f.push([i,e])})}),console.log(f),r.key){case"ArrowUp":f.sort(function(t,e){return t[1]<e[1]?-1:t[1]>e[1]?1:0});var s,d=o(f);try{for(d.s();!(s=d.n()).done;)for(var u=l(s.value,2),y=u[0],b=u[1],v=l(h.call(this,y,b),2),m=v[0],p=v[1],w=0;w<4;w++){if(w===b){n=!1;break}if(this.field[w][y]===this.field[b][y]&&c.call(this,w,y,b,"y")){n=!0,t.default.call(this,m.dom,y,w,p),e.default.call(this,y,w,2*this.field[w][y]),this.field[w][y]=2*this.field[b][y],this.field[b][y]=0;break}if(!this.field[w][y]){n=!0,this.field[w][y]=this.field[b][y],t.default.call(this,m.dom,y,w,p),this.field[b][y]=0;break}}}catch(N){d.e(N)}finally{d.f()}n&&i.default.call(this,"random");break;case"ArrowDown":f.sort(function(t,e){return t[1]<e[1]?1:t[1]>e[1]?-1:0});var k,g=o(f);try{for(g.s();!(k=g.n()).done;)for(var A=l(k.value,2),S=A[0],x=A[1],j=l(h.call(this,S,x),2),T=j[0],I=j[1],O=3;O>=0;O--){if(O===x){n=!1;break}if(this.field[O][S]===this.field[x][S]&&c.call(this,O,S,x,"y")){n=!0,this.field[O][S]=2*this.field[x][S],t.default.call(this,T.dom,S,O,I),e.default.call(this,S,O,this.field[O][S]),this.field[x][S]=0;break}if(!this.field[O][S]){n=!0,this.field[O][S]=this.field[x][S],t.default.call(this,T.dom,S,O,I),this.field[x][S]=0;break}}}catch(N){g.e(N)}finally{g.f()}n&&i.default.call(this,"random");break;case"ArrowLeft":f.sort(function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0});var _,q=o(f);try{for(q.s();!(_=q.n()).done;)for(var M=l(_.value,2),E=M[0],L=M[1],U=l(h.call(this,E,L),2),C=U[0],D=U[1],P=0;P<4;P++){if(P===E){n=!1;break}if(this.field[L][P]===this.field[L][E]&&c.call(this,P,E,L,"x")){n=!0,this.field[L][P]=2*this.field[L][E],t.default.call(this,C.dom,P,L,D),e.default.call(this,P,L,this.field[L][P]),this.field[L][E]=0;break}if(!this.field[L][P]){n=!0,this.field[L][P]=this.field[L][E],t.default.call(this,C.dom,P,L,D),this.field[L][E]=0;break}}}catch(N){q.e(N)}finally{q.f()}n&&i.default.call(this,"random");break;case"ArrowRight":f.sort(function(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:0});var R,$=o(f);try{for($.s();!(R=$.n()).done;)for(var z=l(R.value,2),B=z[0],F=z[1],G=l(h.call(this,B,F),2),H=G[0],J=G[1],K=3;K>=0;K--){if(K===B){n=!1;break}if(this.field[F][K]===this.field[F][B]&&c.call(this,K,B,F,"x")){n=!0,this.field[F][K]=2*this.field[F][B],t.default.call(this,H.dom,K,F,J),e.default.call(this,K,F,this.field[F][K]),this.field[F][B]=0;break}if(!this.field[F][K]){n=!0,this.field[F][K]=this.field[F][B],t.default.call(this,H.dom,K,F,J),this.field[F][B]=0;break}}}catch(N){$.e(N)}finally{$.f()}n&&i.default.call(this,"random")}console.log(this.field)}}function h(t,e){var i;return[this.tailList.filter(function(r,l){return r.coords.x===t&&r.coords.y===e&&(i=l),r.coords.x===t&&r.coords.y===e})[0],i]}function c(t,e,i,r){var l=!0,a="y"===r?i:e;if(t<a){for(var n=t+1;n<a;n++)if(!(l="y"===r?!this.field[n][e]:!this.field[i][n]))return}else for(var f=t-1;f>a;f--)if(!(l="y"===r?!this.field[f][e]:!this.field[i][f]))return;return l}
},{"./setTail":"GpuO","./mergeTail":"swkf","./createTail":"idwE"}],"E5Ir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../../../class/Component")),e=a(require("./template")),n=a(require("./createTail")),r=a(require("../../../helper/css")),o=a(require("../../../helper/roundRect")),i=a(require("./keydown"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=h(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=T();return function(){var n,r=I(t);if(e){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(a){y(s,t.default);var u=v(s);function s(t,e){var n;return c(this,s),(n=u.call(this,t,e,{name:"GAME_2048",url:"game2048",title:"2048"})).WIDTH=350,n.HEIGHT=350,n.MARGIN=18,n.DPI_WIDTH=2*n.WIDTH,n.DPI_HEIGHT=2*n.HEIGHT,n.ROWS_COUNT=4,n.COLS_COUNT=4,n.TAIL_WIDTH=(n.DPI_WIDTH-(n.COLS_COUNT+1)*n.MARGIN)/n.COLS_COUNT,n.TAIL_HEIGHT=(n.DPI_HEIGHT-(n.ROWS_COUNT+1)*n.MARGIN)/n.ROWS_COUNT,n.best=0,n.score=0,n.allowed=!0,n.$best=void 0,n.$body=void 0,n.$game=void 0,n.$score=void 0,n.$newGame=void 0,n.$backBtn=void 0,n.$canvas=void 0,n.field=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n.tailList=[],n.ctx=void 0,n}return l(s,[{key:"initConstructor",value:function(){this.$game=this.$root.querySelector("[data-game]"),this.$body=this.$root.querySelector("[data-body]"),this.$best=this.$root.querySelector('[data-value="best"]'),this.$backBtn=this.$root.querySelector('[data-btn="back"]'),this.$score=this.$root.querySelector('[data-value="score"]'),this.$newGame=this.$root.querySelector('[data-btn="new-game"]'),this.$canvas=this.$root.querySelector("canvas"),this.ctx=this.$canvas.getContext("2d")}},{key:"init",value:function(){var t=this;this.setSize(),this.newGame(),this.bgTail(),this.$backBtn.addEventListener("click",_.bind(this)),this.$newGame.addEventListener("click",function(){return t.newGame()}),document.addEventListener("keydown",i.default.bind(this))}},{key:"destroy",value:function(){this.$backBtn.removeEventListener("click",_.bind(this)),document.removeEventListener("keydown",i.default.bind(this))}},{key:"newGame",value:function(){var t=this;this.field=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.tailList=[],this.$game.innerHTML="";[{value:2,x:0,y:0},{value:4,x:0,y:1},{value:4,x:0,y:2},{value:2,x:0,y:3}].map(function(e){return n.default.call(t,"obj",e)})}},{key:"bgTail",value:function(){for(var t=0;t<this.COLS_COUNT;t++)for(var e=0;e<this.ROWS_COUNT;e++){var n=e*this.TAIL_WIDTH+(e+1)*this.MARGIN,r=t*this.TAIL_HEIGHT+(t+1)*this.MARGIN;(0,o.default)(this)(n,r,this.TAIL_WIDTH,this.TAIL_HEIGHT,10)}}},{key:"setSize",value:function(){var t=this;["$body","$canvas"].map(function(e){(0,r.default)(t[e],{width:t.WIDTH+"px",height:t.HEIGHT+"px"})}),this.$canvas.width=this.DPI_WIDTH,this.$canvas.height=this.DPI_HEIGHT}},{key:"template",value:function(){return(0,e.default)()}},{key:"link",value:function(t){f(I(s.prototype),"link",this).call(this,t)}}]),s}();function _(){this.link("/")}exports.default=m;
},{"../../../class/Component":"FWlu","./template":"YSwj","./createTail":"idwE","../../../helper/css":"fAD4","../../../helper/roundRect":"bqP4","./keydown":"TIYC"}],"Lbno":[function(require,module,exports) {
"use strict";function e(e){return{set:function(){var t=Reflect.set.apply(Reflect,arguments),r=!!e.proxy.page&&e.proxy.page.replace("/","");return e[r||"list"].render(),t}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"mthD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./pages/List")),t=r(require("./pages/games/2048/2048")),o=r(require("./helper/proxyHandlerPages"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}var l=function(){function r(i){n(this,r),this.$root=document.body.querySelector(i),this.$loader=document.body.querySelector("#loader"),this.$title=document.head.querySelector("title"),this.list=new e.default(this.$root,this),this.game2048=new t.default(this.$root,this),this.proxy=new Proxy({},(0,o.default)(this)),this.init()}return a(r,[{key:"init",value:function(){var e=this;console.log(location.pathname),window.addEventListener("load",function(){e.$loader.classList.add("hide"),e.proxy.page=location.pathname})}}]),r}();exports.default=l;
},{"./pages/List":"hZz8","./pages/games/2048/2048":"E5Ir","./helper/proxyHandlerPages":"Lbno"}],"fWRU":[function(require,module,exports) {
"use strict";require("../style/index.scss");var e=r(require("./App"));function r(e){return e&&e.__esModule?e:{default:e}}new e.default("#app");
},{"../style/index.scss":"bjZF","./App":"mthD"}]},{},["fWRU"], null)
//# sourceMappingURL=/script.5860bc3c.js.map